<div id="filters" class="container">

  <form method="get" action="/search" class="mb-0" id="filters-form">
    
    <div id="search-container" class="input-group mb-3">
      <input
            id="navbar-search-input"
            class="form-control flex-grow-1"
            type="search"
            placeholder="Search"
            aria-label="Search"
            name="q"
            value="{{ query|default('') }}"
          />
      <div class="input-group-append">
        <button id="search-btn" class="btn btn-outline-primary ml-2" type="submit">Search</button>
      </div>
    </div>
    

    <input type="hidden" name="q" value="{{ query }}" />

    <div class="row">
      <div class="col-sm">
        <!-- DATE POSTED FILTER -->
        <div>
          <label for="date-slider" class="form-label d-flex justify-content-between align-items-center">
            <span id="date-slider-label" class="text-muted small">
              Showing jobs posted in the last {{ date_posted_days or 30 }} days
            </span>
          </label>
          <input type="range" id="date-slider" name="date_posted_days" min="0" max="30" value="{{ date_posted_days or 30 }}">
        </div>
      </div>
      
      <div class="col-sm mt-3">
        <div class="filter-group">
          <!-- COUNTRY FILTER -->
          <div id="country-multiselect" class="multiselect-container">
            <button class="multiselect-button" type="button">
              <span class="multiselect-text">All Countries</span>
              <div class="multiselect-arrow"></div>
            </button>
          
            <div class="multiselect-dropdown">
              <div class="multiselect-search">
                <input type="text" placeholder="Search countries..." id="country-search">
              </div>
              <div id="country-options" class="multiselect-options"></div>
            </div>
          </div>
          
          <!-- Hidden inputs for selected countries (populated by JavaScript) -->
          <div id="country-hidden-inputs">
            {% for country in selected_countries %}
              <input type="hidden" name="country" value="{{ country }}">
            {% endfor %}
          </div>
        </div>
      </div>
      
      <div class="col-sm mt-3">
        <div class="filter-group">
          <!-- ORGANIZATION FILTER -->
          <div id="organization-multiselect" class="multiselect-container">
            <button class="multiselect-button" type="button">
              <span class="multiselect-text">All Organizations</span>
              <div class="multiselect-arrow"></div>
            </button>
          
            <div class="multiselect-dropdown">
              <div class="multiselect-search">
                <input type="text" placeholder="Search organizations..." id="organization-search">
              </div>
              <div id="organization-options" class="multiselect-options"></div>
            </div>
          </div>
          
          <!-- Hidden inputs for selected organizations (populated by JavaScript) -->
          <div id="organization-hidden-inputs">
            {% for organization in selected_organizations %}
              <input type="hidden" name="organization" value="{{ organization }}">
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </form>
</div>